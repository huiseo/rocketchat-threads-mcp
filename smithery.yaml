# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

# Use TypeScript runtime - Smithery builds and hosts
runtime: typescript

# Start command configuration
startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - rocketchatUrl
      - authToken
      - userId
    properties:
      rocketchatUrl:
        type: string
        title: "Rocket.Chat URL"
        description: "The URL of your Rocket.Chat server (e.g., https://chat.example.com)"
      authToken:
        type: string
        title: "Auth Token"
        description: "Your Rocket.Chat personal access token"
      userId:
        type: string
        title: "User ID"
        description: "Your Rocket.Chat user ID"
      writeEnabled:
        type: boolean
        default: false
        title: "Enable Write Operations"
        description: "Enable sending messages (default: false for safety)"
  commandFunction: |-
    (config) => ({
      command: 'node',
      args: ['dist/index.js'],
      env: {
        ROCKETCHAT_URL: config.rocketchatUrl,
        ROCKETCHAT_AUTH_TOKEN: config.authToken,
        ROCKETCHAT_USER_ID: config.userId,
        ROCKETCHAT_WRITE_ENABLED: config.writeEnabled ? 'true' : 'false'
      }
    })
